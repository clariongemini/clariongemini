# ProSiparis API v7.3 - Yönetim Paneli (Faz 4: Depo Yönetimi)

Bu sürüm, platformun Çoklu Depo Yönetim Sistemi (WMS) yeteneklerinin temelini oluşturan **Depo Yönetimi** modülünü Yönetim Paneli'ne (Admin UI) ekler. Bu geliştirme, hem **Organizasyon-Servisi**'nde yeni backend endpoint'leri oluşturulmasını hem de bu endpoint'leri kullanan yeni bir frontend modülü geliştirilmesini içermektedir.

## v7.3 Yenilikleri

- **Yeni Frontend Modülü: Depo Yönetimi (CRUD):** Yöneticiler artık, envanterin fiziksel olarak tutulduğu depoları panel üzerinden oluşturabilir, listeleyebilir, güncelleyebilir ve silebilir.
- **Yeni Backend Yetkisi: `depo_yonet`:** Depo yönetimi işlemlerini güvenli hale getirmek için **Auth-Servisi**'ne `depo_yonet` adında yeni bir yetki eklendi ve bu yetki `super_admin` rolüne atandı.
- **Yeni Backend API'leri:** **Organizasyon-Servisi**, depoları yönetmek için tam CRUD işlevselliği sağlayan, `depo_yonet` yetkisiyle korunan yeni `/api/admin/organizasyon/depolar` endpoint setine artık sahiptir.

## Mimari Konseptler (v7.3 Güncellemeleri)

- **WMS Altyapısının Arayüze Taşınması:** Bu modül, v4.0'da mimariye eklenen WMS (Çoklu Depo Yönetim Sistemi) konseptinin arayüze taşınmasındaki ilk ve en kritik adımdır. Depoların panelden yönetilebilir olması, gelecekte eklenecek olan Envanter ve Tedarik Zinciri Yönetimi modülleri için bir **ön koşuldur**.
- **Tam Yığın (Full-Stack) Geliştirme:** Bu sürüm, projenin sadece frontend veya backend odaklı olmadığını, gerektiğinde her iki katmanda da değişiklik yapılabildiğini gösteren ilk "tam yığın" geliştirmelerden biridir. Yeni bir özellik için önce yetkilendirme (Auth-Servisi), sonra iş mantığı (Organizasyon-Servisi API) ve son olarak kullanıcı arayüzü (Admin UI) katmanları sırayla güncellenmiştir.

## Servisler Arası İletişim Akışı

1.  **Admin UI (React)**, bir depo oluşturma isteği gönderir -> `POST /api/admin/organizasyon/depolar`
2.  **Gateway-Servisi** isteği alır, JWT'yi doğrular ve `depo_yonet` yetkisinin olup olmadığını kontrol eder.
3.  Yetki varsa, istek **Organizasyon-Servisi**'ne yönlendirilir.
4.  **Organizasyon-Servisi**, `olusturDepo` metodunu çalıştırır ve veritabanına yeni bir depo kaydı ekler.

(GET, PUT, DELETE istekleri de benzer bir akışı takip eder.)

## API Endpoint'leri (v7.3)

### Auth-Servisi (Güncelleme)
-   **Yeni Yetki:** `yetkiler` tablosuna `depo_yonet` yetkisi eklendi.

### Organizasyon-Servisi (YENİ Endpoint'ler)
-   **`GET /api/admin/organizasyon/depolar`**: Tüm depoları listeler. (Yetki: `depo_yonet`)
-   **`GET /api/admin/organizasyon/depolar/:depoId`**: Belirli bir deponun detaylarını getirir. (Yetki: `depo_yonet`)
-   **`POST /api/admin/organizasyon/depolar`**: Yeni bir depo oluşturur. (Yetki: `depo_yonet`)
-   **`PUT /api/admin/organizasyon/depolar/:depoId`**: Bir depoyu günceller. (Yetki: `depo_yonet`)
-   **`DELETE /api/admin/organizasyon/depolar/:depoId`**: Bir depoyu siler. (Yetki: `depo_yonet`)

(Not: Mevcut `GET /api/organizasyon/depolar` public endpoint'i, sadece aktif depoları listeleyecek şekilde çalışmaya devam etmektedir.)
