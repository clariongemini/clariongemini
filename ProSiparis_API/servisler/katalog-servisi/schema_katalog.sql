-- Katalog-Servisi Veritabanı Şeması
CREATE TABLE `kategoriler` ( `kategori_id` INT AUTO_INCREMENT PRIMARY KEY, `kategori_adi` VARCHAR(100) NOT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `urunler` ( `urun_id` INT AUTO_INCREMENT PRIMARY KEY, `kategori_id` INT NULL, `urun_adi` VARCHAR(255) NOT NULL, `takip_yontemi` ENUM('adet', 'seri_no') NOT NULL DEFAULT 'adet', FOREIGN KEY (`kategori_id`) REFERENCES `kategoriler`(`kategori_id`) ON DELETE SET NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `urun_varyantlari` ( `varyant_id` INT AUTO_INCREMENT PRIMARY KEY, `urun_id` INT NOT NULL, `varyant_sku` VARCHAR(100) NOT NULL UNIQUE, `raf_kodu` VARCHAR(50) NULL, FOREIGN KEY (`urun_id`) REFERENCES `urunler`(`urun_id`) ON DELETE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `fiyat_listeleri` ( `liste_id` INT AUTO_INCREMENT PRIMARY KEY, `liste_adi` VARCHAR(100) NOT NULL UNIQUE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `varyant_fiyatlari` ( `fiyat_id` INT AUTO_INCREMENT PRIMARY KEY, `varyant_id` INT NOT NULL, `fiyat_listesi_id` INT NOT NULL, `fiyat` DECIMAL(10, 2) NOT NULL, UNIQUE(`varyant_id`, `fiyat_listesi_id`), FOREIGN KEY (`varyant_id`) REFERENCES `urun_varyantlari`(`varyant_id`), FOREIGN KEY (`fiyat_listesi_id`) REFERENCES `fiyat_listeleri`(`liste_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
